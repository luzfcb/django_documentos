{% extends "django_documentos/base.html" %}
{% load django_documentos_tags bootstrap_pagination %}

{% block titulo %}
    Detalhes Documento
{% endblock titulo %}
{% block css_app %}
    <style>
        body {
            background: rgb(204, 204, 204);
        }

        page[size="A4"] {
            background: white;
            width: 21cm;
            height: 29.7cm;
            display: block;
            margin: 0 auto 0.5cm;
            box-shadow: 0 0 0.5cm rgba(0, 0, 0, 0.5);

            padding: 30px;
{#            font-size: 11pt;#}
{#            font-family: Arial;#}
            text-justify: distribute;
            line-height: 22pt;
        }

        @media print {
            body, page[size="A4"] {
                margin: 0;
                box-shadow: 0;
                background: transparent;
            }
        }
    </style>
{% endblock css_app %}




{% block conteudo_app %}
    {{ block.super }}


    {% if object %}
        <page size="A4">
            {{ object.conteudo|safe }}
        </page>

    {% else %}
        Nada para mostrar
    {% endif %}
    {% if history_records_object_list %}
        <div class="list-group">
            {% for history_records_object in history_records_object_list %}
                <a class="list-group-item" href="{% url 'documentos:revert' pk=history_records_object.pk %}">
                    <p class="list-group-item-text">
                        {{ history_records_object }} <span class="badge">Visualizar/restaurar</span>
                    </p>
                </a>

            {% endfor %}
        </div>

        {% if  history_records_is_paginated %}
            <div class="pagination">
                <div class="pull-left">
                    Página {{ history_records_page_obj.number }} de {{ history_records_page_obj.paginator.num_pages }}
                </div>
                {#                <div class="pagination-right">#}
                <div class="pagination-centered">
                    <ul>
                        {% if history_records_page_obj.has_previous %}
                            <li>
                                <a href="?{{ history_records_page_kwarg }}={{ history_records_page_obj.previous_page_number }}">Anterior</a>
                            </li>
                        {% else %}
                            <li class="disabled"><a href="#">Anterior</a></li>
                        {% endif %}
                        {% for page in history_records_page_obj.paginator.page_range %}
                            {% if page >= history_records_page_obj.number|add:"-2" and page < history_records_page_obj.number %}
                                <li><a href="?{{ history_records_page_kwarg }}={{ page }}">{{ page }}</a></li>
                            {% endif %}
                            {% ifequal history_records_page_obj.number page %}
                                <li class="active"><a href="#">{{ history_records_page_obj.number }}</a></li>
                            {% endifequal %}
                            {% if page <= history_records_page_obj.number|add:"2" and page > history_records_page_obj.number %}
                                <li><a href="?{{ history_records_page_kwarg }}={{ page }}">{{ page }}</a></li>
                            {% endif %}
                        {% endfor %}
                        {% if history_records_page_obj.has_next %}
                            <li>
                                <a href="?{{ history_records_page_kwarg }}={{ history_records_page_obj.next_page_number }}">Próxima</a>
                            </li>
                        {% else %}
                            <li class="disabled"><a href="#">Próxima</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        {% endif %}
    {% else %}
        <div class="list-group">
            Este documento nunca foi modificado
        </div>
    {% endif %}

{% endblock conteudo_app %}



{% block js_app %}
    {% if form.media %}
        {{ form.media }}
    {% endif %}
{% endblock %}
